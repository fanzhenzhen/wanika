<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>01_理解闭包</title>
</head>
<body>
<!--
1. 如何产生闭包?
    * 当函数产生嵌套(嵌套着定义)，内部函数使用到了外部函数的变量时, 执行了外部函数，就产生了闭包
  
2. 闭包到底是什么?
    * 理解一: 闭包就是那个内部函数(大多数人的理解--错！)
    * 理解二: 闭包是一个特殊的对象（“容器”），包含着内部函数用到的外部函数中的变量(极少人的理解--正确！)
              (或者说是一个“容器”)------ 可以使用chrome调试工具查看
    * 注意: 闭包这个“容器”被内部函数所引用着
  
3. 闭包产生的三个必要条件?
    * 1.函数嵌套
    * 2.内部函数引用了外部函数的数据(变量)
    * 3.执行外部函
-->
<script type="text/javascript">
  
  /*
  * 观察发现：
  *   1.fn1调用完毕，原本应该“死去”的a，“活”下来了。
  *   2.虽然“活下”来了，但是并不那么“潇洒”，全局看不见。
  * */
  
  function fn1() {
    var a = 1
    function fn2() {
      a++
      console.log(a)//2
    }
    fn2()
    return fn2
  }
  
  var f = fn1()
  f()

</script>
</body>
</html>